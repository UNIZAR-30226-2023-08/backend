Okay, we have setup the ORM and now we need database migrations. We are going to use Alembic


////////////INSTALACIÃ“N Poetry//////////////////

(Invoke-WebRequest -Uri https://install.python-poetry.org -UseBasicParsing).Content | py -

Add Poetry to your PATH

%APPDATA%\Python\Scripts on Windows.
%APPDATA%\pypoetry\venv\Scripts\poetry

$HOME/.local/bin
~/.local/share/pypoetry/venv/bin/poetry

poetry self update

////////Install alembic ///////////////
pip install alembic

/////Init migrations//////////
poetry run alembic init migrations


archivo migrations/env.py -->
        #target_metadata = None  #comentar esta linea
        config.set_main_option('sqlalchemy.url', DATABASE_URL)
        target_metadata = Base.metadata

//////PASOS///////// para migrar
1.Ejecutar el comando: poetry run alembic revision --autogenerate -m 'descripcion del cambio'

2.en la carpeta migrations/versions aparece generado la revision
3.modificar "def upgrade():" 
https://learnbatta.com/blog/alembic-ddl-operations/#rename-table-column-with-alembic

4.Ejecutar el comando:   poetry run alembic upgrade head


https://www.azepug.az/posts/fastapi/ecommerce-fastapi-nuxtjs/ecommerce-create-pydantic-schemas.html